sudo: true
language: node_js
node_js: "9"
stages:
- name: package_build
  if: branch = new-fog-controller

jobs:
  include:
  - stage: package_build
    script:
    - npm run build
    deploy:
      skip_cleanup: true
      provider: npm
      email: ${NPM_EMAIL_ADDRESS}
      api_key: ${NPM_AUTH_TOKEN}
      on:
        all_branches: true